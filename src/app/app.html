<!-- ğŸ“š Lesson 4: Components & Communication -->

<div class="container">
  <h1 class="main-title">ğŸ“š Lesson 4: Components Communication</h1>
  
  <!-- ============================================ -->
  <!-- 1ï¸âƒ£ @Input Example - Product Cards -->
  <!-- ============================================ -->
  <section class="section">
    <h2>1ï¸âƒ£ @Input - Parent to Child Data Flow</h2>
    <p class="section-desc">
      Parent component se child component mein data pass kar rahe hain using <code>@Input()</code>
    </p>
    
    <div class="product-grid">
      <!-- â­ Child component use kar rahe hain -->
      <app-product-card
        *ngFor="let product of products"
        [product]="product"
        (buyClicked)="handleBuy($event)"
        (addToWishlist)="handleAddToWishlist($event)">
      </app-product-card>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- 2ï¸âƒ£ @Output Example - Cart & Wishlist -->
  <!-- ============================================ -->
  <section class="section">
    <h2>2ï¸âƒ£ @Output - Child to Parent Events</h2>
    
    <div class="output-demo">
      <!-- Cart -->
      <div class="cart-section">
        <h3>ğŸ›’ Shopping Cart</h3>
        <div class="cart-items" *ngIf="cart.length > 0; else emptyCart">
          <div class="cart-item" *ngFor="let item of cart; let i = index">
            <span class="item-number">{{ i + 1 }}</span>
            <span class="item-name">{{ item.name }}</span>
            <span class="item-price">â‚¹{{ item.price.toLocaleString() }}</span>
          </div>
          <div class="cart-total">
            <strong>Total:</strong> â‚¹{{ cartTotal.toLocaleString() }}
          </div>
          <button (click)="clearCart()" class="clear-btn">Clear Cart</button>
        </div>
        <ng-template #emptyCart>
          <p class="empty-message">Cart is empty ğŸ›ï¸</p>
        </ng-template>
      </div>
      
      <!-- Wishlist -->
      <div class="wishlist-section">
        <h3>â¤ï¸ Wishlist</h3>
        <div class="wishlist-items" *ngIf="wishlist.length > 0; else emptyWishlist">
          <div class="wishlist-item" *ngFor="let item of wishlist">
            <span>{{ item.name }}</span>
            <button (click)="removeFromWishlist(item.id)" class="remove-btn">âœ–</button>
          </div>
        </div>
        <ng-template #emptyWishlist>
          <p class="empty-message">No items in wishlist ğŸ’”</p>
        </ng-template>
      </div>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- 3ï¸âƒ£ Two-Way Binding with Custom Component -->
  <!-- ============================================ -->
  <section class="section">
    <h2>3ï¸âƒ£ Two-Way Binding with Components</h2>
    <p class="section-desc">
      <code>[(value)]</code> pattern use karke two-way binding implement kar rahe hain
    </p>
    
    <div class="counter-examples">
      <div class="counter-demo">
        <h3>Counter 1 (Range: 0-20)</h3>
        <!-- â­ Two-way binding: [(value)] -->
        <app-counter 
          [(value)]="counterValue1" 
          [min]="0" 
          [max]="20"
          [step]="1">
        </app-counter>
        <p class="counter-value">Current Value: <strong>{{ counterValue1 }}</strong></p>
      </div>
      
      <div class="counter-demo">
        <h3>Counter 2 (Range: 0-100, Step: 5)</h3>
        <app-counter 
          [(value)]="counterValue2" 
          [min]="0" 
          [max]="100"
          [step]="5">
        </app-counter>
        <p class="counter-value">Current Value: <strong>{{ counterValue2 }}</strong></p>
      </div>
      
      <div class="counter-demo">
        <h3>Counter 3 (Range: -50 to 50)</h3>
        <app-counter 
          [(value)]="counterValue3" 
          [min]="-50" 
          [max]="50"
          [step]="10">
        </app-counter>
        <p class="counter-value">Current Value: <strong>{{ counterValue3 }}</strong></p>
      </div>
    </div>
    
    <div class="sync-demo">
      <h4>ğŸ”„ All Values are Synchronized:</h4>
      <p>Counter 1: {{ counterValue1 }} | Counter 2: {{ counterValue2 }} | Counter 3: {{ counterValue3 }}</p>
      <p>Sum: <strong>{{ counterValue1 + counterValue2 + counterValue3 }}</strong></p>
    </div>
  </section>

  <!-- ============================================ -->
  <!-- 4ï¸âƒ£ Interactive Rating Component -->
  <!-- ============================================ -->
  <section class="section">
    <h2>4ï¸âƒ£ Rating Component - Interactive Example</h2>
    
    <div class="rating-examples">
      <div class="rating-demo">
        <h3>Product Rating</h3>
        <app-rating 
          [(rating)]="productRating"
          [maxRating]="5"
          (ratingChange)="handleRatingChange($event, 'Product')">
        </app-rating>
        <p>You rated: {{ productRating }}/5 stars</p>
      </div>
      
      <div class="rating-demo">
        <h3>User Experience</h3>
        <app-rating 
          [(rating)]="userExperience"
          [maxRating]="5"
          (ratingChange)="handleRatingChange($event, 'Experience')">
        </app-rating>
        <p>Experience rating: {{ userExperience }}/5 stars</p>
      </div>
      
      <div class="rating-demo">
        <h3>Overall Satisfaction</h3>
        <app-rating 
          [(rating)]="overallSatisfaction"
          [maxRating]="10">
        </app-rating>
        <p>Satisfaction: {{ overallSatisfaction }}/10</p>
      </div>
      
      <div class="rating-demo">
        <h3>Read-Only Rating</h3>
        <app-rating 
          [rating]="4"
          [maxRating]="5"
          [readonly]="true">
        </app-rating>
        <p>This rating is read-only</p>
      </div>
    </div>
  </section>

  <!-- Summary -->
  <div class="lesson-summary">
    <h3>âœ… Lesson 4 Complete!</h3>
    <ul>
      <li>âœ¨ @Input() - Parent â†’ Child data flow</li>
      <li>ğŸ”„ @Output() - Child â†’ Parent events</li>
      <li>ğŸ”— Two-Way Binding with custom components</li>
      <li>ğŸ¯ Interactive components (Counter, Rating)</li>
      <li>ğŸ“¦ Real-world example (Product System)</li>
    </ul>
    <p><strong>Next:</strong> Lesson 5 - Services & Dependency Injection! ğŸš€</p>
  </div>
</div>

<router-outlet />
